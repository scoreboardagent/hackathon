<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title style="color: white;">MLBâ„¢ AI Companion Scoreboard Agent</title>
    <link rel="stylesheet" href="styles/main.css">
    <!-- Firebase SDK -->
    <script type="module" src="https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/11.2.0/firebase-analytics.js"></script>
    
    <!-- PWA Support -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#002D72"> <!-- MLB Blue -->
    <link rel="apple-touch-icon" href="images/icons/icon-192x192.png">
</head>
<body data-theme="light">
    <div id="app-container">
        <!-- Header Section -->
        <header>
            <nav>
                <div class="logo">
                    <img src="images/logo.svg" alt="MLBâ„¢ AI Companion">
                </div>
                <div class="nav-controls">
                    <a href="about.html" class="nav-button">About</a>
                    <button id="languageToggle">English</button>
                    <button id="themeToggle">ðŸŒ™</button>
                </div>
            </nav>
        </header>

        <!-- Project Description -->
        <section id="project-description">
            <div class="description-content">
                <h1>MLBâ„¢ AI Companion Scoreboard Agent</h1>
                <p class="project-intro">An innovative fan engagement platform combining real-time game statistics with an AI-powered baseball expert companion.</p>
                
                <!-- Feature Cards Scroll Section -->
                <div class="scroll-container">
                    <div class="scroll-content">
                        <!-- First set of cards -->
                        <div class="feature-card">
                            <h3>ðŸŽ¯ Real-Time Updates</h3>
                            <ul>
                                <li>Live game statistics via GUMBO data feed</li>
                                <li>Pitch-by-pitch updates</li>
                                <li>Player statistics and metrics</li>
                                <li>Team standings and context</li>
                            </ul>
                        </div>
                        
                        <div class="feature-card">
                            <h3>ðŸ¤– AI Baseball Expert</h3>
                            <ul>
                                <li>Powered by Google Cloud Gemini</li>
                                <li>Natural language interaction</li>
                                <li>Strategic game explanations</li>
                                <li>Multi-language support (EN/ES/JP)</li>
                            </ul>
                        </div>
                        
                        <div class="feature-card">
                            <h3>ðŸ“± Adaptive Interface</h3>
                            <ul>
                                <li>Responsive mobile & desktop design</li>
                                <li>Portrait: Compact scoreboard</li>
                                <li>Landscape: Full statistics view</li>
                                <li>Desktop: Split-screen layout</li>
                            </ul>
                        </div>
                        
                        <div class="feature-card">
                            <h3>ðŸ“š Educational Tools</h3>
                            <ul>
                                <li>Interactive baseball glossary</li>
                                <li>Real-time strategy insights</li>
                                <li>Play prediction analysis</li>
                                <li>Personalized learning path</li>
                            </ul>
                        </div>

                        <!-- Duplicate cards for seamless scrolling -->
                        <div class="feature-card">
                            <h3>ðŸŽ¯ Real-Time Updates</h3>
                            <ul>
                                <li>Live game statistics via GUMBO data feed</li>
                                <li>Pitch-by-pitch updates</li>
                                <li>Player statistics and metrics</li>
                                <li>Team standings and context</li>
                            </ul>
                        </div>
                        
                        <div class="feature-card">
                            <h3>ðŸ¤– AI Baseball Expert</h3>
                            <ul>
                                <li>Powered by Google Cloud Gemini</li>
                                <li>Natural language interaction</li>
                                <li>Strategic game explanations</li>
                                <li>Multi-language support (EN/ES/JP)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="tech-stack">
                    <h3>âš¡ Powered By</h3>
                    <div class="tech-icons">
                        <div class="tech-item">Google Cloud</div>
                        <div class="tech-item">MLB GUMBO</div>
                        <div class="tech-item">Firebase</div>
                        <div class="tech-item">Gemini AI</div>
                    </div>
                </div>

                <button id="hideDescription" class="description-toggle">
                    Hide Project Info
                </button>
            </div>
        </section>

        <!-- Main Content -->
        <main>
            <!-- Scoreboard Section -->
            <section id="scoreboard">
                <div class="game-info">
                    <div class="teams">
                        <div class="team home">
                            <img src="images/teams/default-team.svg" alt="Home Team" class="team-logo">
                            <h2 class="team-name">Home Team</h2>
                            <p class="score">0</p>
                        </div>
                        <div class="vs">VS</div>
                        <div class="team away">
                            <img src="images/teams/default-team.svg" alt="Away Team" class="team-logo">
                            <h2 class="team-name">Away Team</h2>
                            <p class="score">0</p>
                        </div>
                    </div>
                    <div class="game-details">
                        <div class="inning">
                            <span class="inning-label">Inning:</span>
                            <span class="inning-value">1st</span>
                        </div>
                        <div class="count">
                            <span>Balls: <span class="balls">0</span></span>
                            <span>Strikes: <span class="strikes">0</span></span>
                            <span>Outs: <span class="outs">0</span></span>
                        </div>
                    </div>
                </div>
                <div class="live-stats">
                    <div class="stat-card">
                        <h3>Current Batter</h3>
                        <div class="batter-stats">
                            <p>AVG: <span class="avg">.000</span></p>
                            <p>HR: <span class="hr">0</span></p>
                            <p>RBI: <span class="rbi">0</span></p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <h3>Current Pitcher</h3>
                        <div class="pitcher-stats">
                            <p>ERA: <span class="era">0.00</span></p>
                            <p>IP: <span class="ip">0.0</span></p>
                            <p>K: <span class="k">0</span></p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- AI Companion Chat -->
            <section id="ai-companion">
                <div class="chat-container">
                    <div class="chat-header">
                        <h2>Baseball AI Assistant</h2>
                        <p class="chat-subtitle">Ask me anything about baseball!</p>
                    </div>
                    <div class="chat-messages">
                        <div class="message system">
                            Welcome to MLBâ„¢ AI Companion! I can help you understand:
                            <ul>
                                <li>Game rules and situations</li>
                                <li>Player statistics and history</li>
                                <li>Strategy and gameplay analysis</li>
                                <li>Current game updates and insights</li>
                            </ul>
                        </div>
                    </div>
                    <div class="chat-input">
                        <textarea id="userInput" placeholder="Ask about the game, rules, or stats..."></textarea>
                        <div class="input-buttons">
                            <button id="sendMessage">Send</button>
                            <button id="voiceInput" title="Voice Input">ðŸŽ¤</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Educational Sidebar -->
        <aside id="educational-features">
            <div class="glossary">
                <h3>Baseball Glossary</h3>
                <div class="glossary-content">
                    <div class="glossary-item">
                        <h4>ERA (Earned Run Average)</h4>
                        <p>The average number of earned runs a pitcher allows per nine innings pitched.</p>
                    </div>
                    <div class="glossary-item">
                        <h4>RBI (Runs Batted In)</h4>
                        <p>The number of runs that score due to a batter's action, except when the batter grounds into a double play or reaches on an error.</p>
                    </div>
                    <!-- More glossary items -->
                </div>
            </div>
            <div class="strategy-insights">
                <h3>Strategy Insights</h3>
                <div class="strategy-content">
                    <div class="strategy-card">
                        <h4>Current Situation Analysis</h4>
                        <p class="situation-description">Loading game situation...</p>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Loading State -->
    <div id="loading" class="hidden">
        <div class="spinner"></div>
        <p>Loading game data...</p>
    </div>

    <!-- Error State -->
    <div id="error" class="hidden">
        <p>Unable to load game data. Please try again.</p>
        <button id="retryButton">Retry</button>
    </div>

    <!-- Scripts -->
    <script type="module" src="js/app.js"></script>
    <script type="module" src="js/firebase-config.js"></script>
    <script type="module" src="js/mlb-api.js"></script>
    <script type="module" src="js/ai-companion.js"></script>
    <script type="module" src="js/ui-controller.js"></script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => console.log('ServiceWorker registered'))
                    .catch(err => console.log('ServiceWorker registration failed:', err));
            });
        }
    </script>
</body>
</html>
